from octopus.platforms.ETH.cfg import EthereumCFG
from octopus.analysis.graph import CFGGraph

if __name__ == '__main__':
    bytecode_hex = '608060405234801561001057600080fd5b50600436106100415760003560e01c80632966c024146100465780638da5cb5b14610050578063af0699c51461006e575b600080fd5b61004e61008c565b005b610058610126565b6040516100659190610193565b60405180910390f35b61007661014c565b60405161008391906101c7565b60405180910390f35b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461011c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161011390610265565b60405180910390fd5b6020600081905550565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60005481565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061017d82610152565b9050919050565b61018d81610172565b82525050565b60006020820190506101a86000830184610184565b92915050565b6000819050919050565b6101c1816101ae565b82525050565b60006020820190506101dc60008301846101b8565b92915050565b600082825260208201905092915050565b7f546869732066756e6374696f6e206973207265737472696374656420746f207460008201527f686520636f6e74726163742773206f776e657200000000000000000000000000602082015250565b600061024f6033836101e2565b915061025a826101f3565b604082019050919050565b6000602082019050818103600083015261027e81610242565b905091905056fea264697066735822122055f7ea7d421124372424c00aa277a0ba77efea02b5e0a703043124c465e04dbf64736f6c63430008090033'

    args = None
    cfg = EthereumCFG(bytecode_hex)

    graph = CFGGraph(cfg)

    graph.view()